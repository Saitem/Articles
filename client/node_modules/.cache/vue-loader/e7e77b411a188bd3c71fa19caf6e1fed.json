{"remainingRequest":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/saitem/Рабочий стол/DEV/Articles/articles/client/src/components/form/SubmitForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/src/components/form/SubmitForm.vue","mtime":1583864439158},{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/cache-loader/dist/cjs.js","mtime":1583864437914},{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/babel-loader/lib/index.js","mtime":1583864437882},{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/cache-loader/dist/cjs.js","mtime":1583864437914},{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/vue-loader/lib/index.js","mtime":1583864439050}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHsgbWRiQnRuLCBtZGJJbnB1dCwgbWRiQ29udGFpbmVyLCBtZGJSb3csIG1kYkNvbCB9IGZyb20gJ21kYnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiU3VibWl0IiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBtZGJJbnB1dCwKICAgICAgICBtZGJDb250YWluZXIsCiAgICAgICAgbWRiUm93LAogICAgICAgIG1kYkNvbCwKICAgICAgICBtZGJCdG4KICAgIH0sCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAgICAgc2hvd1Bvc3Q6IHRydWUsCiAgICAgICAgICAgIHNob3dVcGxvYWQ6IGZhbHNlLAogICAgICAgICAgICBmaWxlOiAnJywKICAgICAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgICAgIGVycm9yOiBmYWxzZQogICAgICAgICAgICAvLyBpbWFnZTogJycKICAgICAgICB9CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBzZWxlY3RGaWxlKCl7CiAgICAgICAgICAgIHRoaXMuZmlsZSA9IHRoaXMuJHJlZnMuZmlsZS5maWxlc1swXQogICAgICAgICAgICB0aGlzLmVycm9yID0gZmFsc2UKICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gJycKICAgICAgICB9LAoKICAgICAgICBhc3luYyBzdWJtaXQoKSB7CiAgICAgICAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhKCkKCiAgICAgICAgICAgIGZkLmFwcGVuZCgndGl0bGUnLCB0aGlzLnRpdGxlKQogICAgICAgICAgICBmZC5hcHBlbmQoJ2Rlc2NyaXB0aW9uJywgdGhpcy5kZXNjcmlwdGlvbikKICAgICAgICAgICAgZmQuYXBwZW5kKCdpbWFnZScsIHRoaXMuZmlsZSkKICAgICAgICAgICAgCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjUwMDAvbW9kZWxzJywgZmQpCiAgICAgICAgICAgIH1jYXRjaChlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZQogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnRpdGxlID0gJycKICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9ICcnCiAgICAgICAgICAgIHRoaXMuZmlsZSA9ICcnCiAgICAgICAgfSwKCiAgICAgICAgc2hvd1Bvc3RGb3JtKCkgewogICAgICAgICAgICB0aGlzLnNob3dQb3N0ID0gdHJ1ZQogICAgICAgICAgICB0aGlzLnNob3dVcGxvYWQgPSBmYWxzZQogICAgICAgIH0sCgogICAgICAgIHNob3dVcGxvYWRGb3JtKCkgewogICAgICAgICAgICB0aGlzLnNob3dVcGxvYWQgPSB0cnVlCiAgICAgICAgICAgIHRoaXMuc2hvd1Bvc3QgPSBmYWxzZQogICAgICAgIH0sCgogICAgfQoKICB9Cg=="},{"version":3,"sources":["SubmitForm.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA","file":"SubmitForm.vue","sourceRoot":"src/components/form","sourcesContent":["<script>\nimport axios from 'axios'\nimport { mdbBtn, mdbInput, mdbContainer, mdbRow, mdbCol } from 'mdbvue';\n\nexport default {\n    name: \"Submit\",\n    components: {\n        mdbInput,\n        mdbContainer,\n        mdbRow,\n        mdbCol,\n        mdbBtn\n    },\n\n    data() {\n        return {\n            title: '',\n            description: '',\n            showPost: true,\n            showUpload: false,\n            file: '',\n            message: '',\n            error: false\n            // image: ''\n        }\n    },\n\n    methods: {\n        selectFile(){\n            this.file = this.$refs.file.files[0]\n            this.error = false\n            this.message = ''\n        },\n\n        async submit() {\n            const fd = new FormData()\n\n            fd.append('title', this.title)\n            fd.append('description', this.description)\n            fd.append('image', this.file)\n            \n            try {\n                await axios.post('http://localhost:5000/models', fd)\n            }catch(e) {\n                this.error = true\n            }\n\n            this.title = ''\n            this.description = ''\n            this.file = ''\n        },\n\n        showPostForm() {\n            this.showPost = true\n            this.showUpload = false\n        },\n\n        showUploadForm() {\n            this.showUpload = true\n            this.showPost = false\n        },\n\n    }\n\n  }\n</script>\n<template>\n<mdb-container>\n    <mdb-row class=\"justify-content-md-center\">\n        \n        <mdb-col class=gen col='8'>\n            <mdb-row>\n                <mdb-col class='column text-center'><span @click=\"showPostForm\"><i class=\"fas fa-share-square\"/> Post</span></mdb-col>\n                <mdb-col class='column text-center c2' ><span @click=\"showUploadForm\"><i class=\"fas fa-images\"/> Image</span></mdb-col>\n            </mdb-row>\n            <mdb-row class=\"fluid\" v-show=\"showPost\">\n                <mdb-col>\n                        <mdb-input \n                            type=\"text\" \n                            label=\"Title\" \n                            v-model=\"title\"\n                            outline\n                        />   \n                        <mdb-input \n                            type=\"textarea\" \n                            label=\"Outline textarea\" \n                            v-model=\"description\"\n                            outline :rows=\"3\" \n                        />\n                    </mdb-col>\n                    <div class=\"w-100\"></div>\n                    <mdb-col offset=\"10\">\n                        <mdb-btn \n                            color=\"primary\"\n                            @click=\"submit\"\n                        >\n                        Post\n                        </mdb-btn>\n                    </mdb-col>\n            </mdb-row>\n            <mdb-row class='fluid' v-if=\"showUpload\">\n                <mdb-col>\n                    <form enctype=\"multipart/form-data\">\n\n                        <div \n                            v-show='message'\n                            :class=\"`message ${error ? 'is-danger' : 'is-succses'}`\"\n                        >\n                            <div class=\"message-body\">{{ message }}</div>\n                        </div>\n\n                        <div class=\"field\">\n\n                            <label for=\"file\" calss=\"label\">Upload file</label>\n                            <input \n                                type=\"file\"\n                                ref=\"file\"\n                                @change=\"selectFile\"\n                            />\n\n                            <span v-if=\"file\"> {{ file.name }}</span>\n\n                        </div>\n                        {{ error }}\n                    </form>\n                </mdb-col>\n            </mdb-row>\n            \n        </mdb-col>\n\n    </mdb-row>\n</mdb-container>\n</template>\n\n<style lang=\"scss\" scoped>\n    \n    .gen {\n        margin-top: 20px;\n        font-weight: 500;\n        background-color: white;\n    }\n    .column{\n        height: 50px;      \n        padding-top: 12px;\n        border-bottom: 1px solid grey;  \n        cursor: pointer;\n    }\n    .c2{\n        border-left: 1px solid grey;\n    }\n\n    .dropzone{\n        min-height: 300px;\n        padding: 10px 10px;\n        position: relative;\n        cursor: pointer;\n        outline: 2px dashed grey;\n        outline-offset: -10px;\n        background: rgb(248, 248, 248);\n        color: dimgray;\n    }\n\n    .dropzone:hover {\n        background: rgb(223, 223, 223);\n    }\n    \n    .input-file{\n        opacity: 0;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        cursor: pointer;\n    }\n    .dropzone .call-to-action {\n        font-size: 1.2rem;\n        text-align: center;\n        padding: 60px 0;\n    }\n    \n    .input-file{\n        opacity: 0;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        cursor: pointer;\n    }\n    \n</style>"]}]}