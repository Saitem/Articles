{"remainingRequest":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/babel-loader/lib/index.js!/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/saitem/Рабочий стол/DEV/Articles/articles/client/src/components/form/SubmitForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/src/components/form/SubmitForm.vue","mtime":1583864439158},{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/cache-loader/dist/cjs.js","mtime":1583864437914},{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/babel-loader/lib/index.js","mtime":1583864437882},{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/cache-loader/dist/cjs.js","mtime":1583864437914},{"path":"/home/saitem/Рабочий стол/DEV/Articles/articles/client/node_modules/vue-loader/lib/index.js","mtime":1583864439050}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvc2FpdGVtL1x1MDQyMFx1MDQzMFx1MDQzMVx1MDQzRVx1MDQ0N1x1MDQzOFx1MDQzOSBcdTA0NDFcdTA0NDJcdTA0M0VcdTA0M0IvREVWL0FydGljbGVzL2FydGljbGVzL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1kYkJ0biwgbWRiSW5wdXQsIG1kYkNvbnRhaW5lciwgbWRiUm93LCBtZGJDb2wgfSBmcm9tICdtZGJ2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlN1Ym1pdCIsCiAgY29tcG9uZW50czogewogICAgbWRiSW5wdXQ6IG1kYklucHV0LAogICAgbWRiQ29udGFpbmVyOiBtZGJDb250YWluZXIsCiAgICBtZGJSb3c6IG1kYlJvdywKICAgIG1kYkNvbDogbWRiQ29sLAogICAgbWRiQnRuOiBtZGJCdG4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgc2hvd1Bvc3Q6IHRydWUsCiAgICAgIHNob3dVcGxvYWQ6IGZhbHNlLAogICAgICBmaWxlOiAnJywKICAgICAgbWVzc2FnZTogJycsCiAgICAgIGVycm9yOiBmYWxzZSAvLyBpbWFnZTogJycKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0RmlsZTogZnVuY3Rpb24gc2VsZWN0RmlsZSgpIHsKICAgICAgdGhpcy5maWxlID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgICB0aGlzLmVycm9yID0gZmFsc2U7CiAgICAgIHRoaXMubWVzc2FnZSA9ICcnOwogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGZkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZkID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmZC5hcHBlbmQoJ3RpdGxlJywgX3RoaXMudGl0bGUpOwogICAgICAgICAgICAgICAgZmQuYXBwZW5kKCdkZXNjcmlwdGlvbicsIF90aGlzLmRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgICAgIGZkLmFwcGVuZCgnaW1hZ2UnLCBfdGhpcy5maWxlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL21vZGVscycsIGZkKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF90aGlzLnRpdGxlID0gJyc7CiAgICAgICAgICAgICAgICBfdGhpcy5kZXNjcmlwdGlvbiA9ICcnOwogICAgICAgICAgICAgICAgX3RoaXMuZmlsZSA9ICcnOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s0LCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaG93UG9zdEZvcm06IGZ1bmN0aW9uIHNob3dQb3N0Rm9ybSgpIHsKICAgICAgdGhpcy5zaG93UG9zdCA9IHRydWU7CiAgICAgIHRoaXMuc2hvd1VwbG9hZCA9IGZhbHNlOwogICAgfSwKICAgIHNob3dVcGxvYWRGb3JtOiBmdW5jdGlvbiBzaG93VXBsb2FkRm9ybSgpIHsKICAgICAgdGhpcy5zaG93VXBsb2FkID0gdHJ1ZTsKICAgICAgdGhpcy5zaG93UG9zdCA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["SubmitForm.vue"],"names":[],"mappings":";;;;AACA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,MAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,MAAA,QAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,YAAA,EAAA,YAFA;AAGA,IAAA,MAAA,EAAA,MAHA;AAIA,IAAA,MAAA,EAAA,MAJA;AAKA,IAAA,MAAA,EAAA;AALA,GAFA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,IAHA;AAIA,MAAA,UAAA,EAAA,KAJA;AAKA,MAAA,IAAA,EAAA,EALA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,KAAA,EAAA,KAPA,CAQA;;AARA,KAAA;AAUA,GArBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,KALA;AAOA,IAAA,MAPA,oBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,EADA,GACA,IAAA,QAAA,EADA;AAGA,gBAAA,EAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,CAAA,KAAA;AACA,gBAAA,EAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA,CAAA,WAAA;AACA,gBAAA,EAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,CAAA,IAAA;AALA;AAAA;AAAA,uBAQA,KAAA,CAAA,IAAA,CAAA,8BAAA,EAAA,EAAA,CARA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUA,gBAAA,KAAA,CAAA,KAAA,GAAA,IAAA;;AAVA;AAaA,gBAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,WAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,IAAA,GAAA,EAAA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,KAvBA;AAyBA,IAAA,YAzBA,0BAyBA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,KA5BA;AA8BA,IAAA,cA9BA,4BA8BA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA;AAjCA;AAvBA,CAAA","sourcesContent":["<script>\nimport axios from 'axios'\nimport { mdbBtn, mdbInput, mdbContainer, mdbRow, mdbCol } from 'mdbvue';\n\nexport default {\n    name: \"Submit\",\n    components: {\n        mdbInput,\n        mdbContainer,\n        mdbRow,\n        mdbCol,\n        mdbBtn\n    },\n\n    data() {\n        return {\n            title: '',\n            description: '',\n            showPost: true,\n            showUpload: false,\n            file: '',\n            message: '',\n            error: false\n            // image: ''\n        }\n    },\n\n    methods: {\n        selectFile(){\n            this.file = this.$refs.file.files[0]\n            this.error = false\n            this.message = ''\n        },\n\n        async submit() {\n            const fd = new FormData()\n\n            fd.append('title', this.title)\n            fd.append('description', this.description)\n            fd.append('image', this.file)\n            \n            try {\n                await axios.post('http://localhost:5000/models', fd)\n            }catch(e) {\n                this.error = true\n            }\n\n            this.title = ''\n            this.description = ''\n            this.file = ''\n        },\n\n        showPostForm() {\n            this.showPost = true\n            this.showUpload = false\n        },\n\n        showUploadForm() {\n            this.showUpload = true\n            this.showPost = false\n        },\n\n    }\n\n  }\n</script>\n<template>\n<mdb-container>\n    <mdb-row class=\"justify-content-md-center\">\n        \n        <mdb-col class=gen col='8'>\n            <mdb-row>\n                <mdb-col class='column text-center'><span @click=\"showPostForm\"><i class=\"fas fa-share-square\"/> Post</span></mdb-col>\n                <mdb-col class='column text-center c2' ><span @click=\"showUploadForm\"><i class=\"fas fa-images\"/> Image</span></mdb-col>\n            </mdb-row>\n            <mdb-row class=\"fluid\" v-show=\"showPost\">\n                <mdb-col>\n                        <mdb-input \n                            type=\"text\" \n                            label=\"Title\" \n                            v-model=\"title\"\n                            outline\n                        />   \n                        <mdb-input \n                            type=\"textarea\" \n                            label=\"Outline textarea\" \n                            v-model=\"description\"\n                            outline :rows=\"3\" \n                        />\n                    </mdb-col>\n                    <div class=\"w-100\"></div>\n                    <mdb-col offset=\"10\">\n                        <mdb-btn \n                            color=\"primary\"\n                            @click=\"submit\"\n                        >\n                        Post\n                        </mdb-btn>\n                    </mdb-col>\n            </mdb-row>\n            <mdb-row class='fluid' v-if=\"showUpload\">\n                <mdb-col>\n                    <form enctype=\"multipart/form-data\">\n\n                        <div \n                            v-show='message'\n                            :class=\"`message ${error ? 'is-danger' : 'is-succses'}`\"\n                        >\n                            <div class=\"message-body\">{{ message }}</div>\n                        </div>\n\n                        <div class=\"field\">\n\n                            <label for=\"file\" calss=\"label\">Upload file</label>\n                            <input \n                                type=\"file\"\n                                ref=\"file\"\n                                @change=\"selectFile\"\n                            />\n\n                            <span v-if=\"file\"> {{ file.name }}</span>\n\n                        </div>\n                        {{ error }}\n                    </form>\n                </mdb-col>\n            </mdb-row>\n            \n        </mdb-col>\n\n    </mdb-row>\n</mdb-container>\n</template>\n\n<style lang=\"scss\" scoped>\n    \n    .gen {\n        margin-top: 20px;\n        font-weight: 500;\n        background-color: white;\n    }\n    .column{\n        height: 50px;      \n        padding-top: 12px;\n        border-bottom: 1px solid grey;  \n        cursor: pointer;\n    }\n    .c2{\n        border-left: 1px solid grey;\n    }\n\n    .dropzone{\n        min-height: 300px;\n        padding: 10px 10px;\n        position: relative;\n        cursor: pointer;\n        outline: 2px dashed grey;\n        outline-offset: -10px;\n        background: rgb(248, 248, 248);\n        color: dimgray;\n    }\n\n    .dropzone:hover {\n        background: rgb(223, 223, 223);\n    }\n    \n    .input-file{\n        opacity: 0;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        cursor: pointer;\n    }\n    .dropzone .call-to-action {\n        font-size: 1.2rem;\n        text-align: center;\n        padding: 60px 0;\n    }\n    \n    .input-file{\n        opacity: 0;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        cursor: pointer;\n    }\n    \n</style>"],"sourceRoot":"src/components/form"}]}